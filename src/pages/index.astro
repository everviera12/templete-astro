---
import fs from "fs";
import path from "path";
import HomeBanner from "../components/sections/HomeBanner.astro";
import Layout from "../layouts/Layout.astro";
import Carousel from "../components/Carousel.astro";

const dirPath = path.resolve("public/events");
const imageFiles = fs.readdirSync(dirPath).filter((file) =>
    file.match(/\.(png|jpe?g|gif|webp|svg)$/)
);
const imagePaths = imageFiles.map((file) => `/events/${file}`);
---

<Layout title="Inicio | Urban Village">
    <HomeBanner />
    <Carousel imagePaths={imagePaths}>
</Layout>