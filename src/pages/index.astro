---
import fs from "fs";
import path from "path";
import HomeBanner from "../components/sections/HomeBanner.astro";
import Layout from "../layouts/Layout.astro";
import Carousel from "../components/Carousel.astro";
import Button from "../components/ui/Button.astro";

const dirPath = path.resolve("public/events");
const dirPathNoti = path.resolve("public/notifications");

const imageFiles = fs.readdirSync(dirPath).filter((file) => file.match(/\.(png|jpe?g|gif|webp|svg)$/));
const imageFilesNoti = fs.readdirSync(dirPathNoti).filter((file) => file.match(/\.(png|jpe?g|gif|webp|svg)$/));

const imagePaths = imageFiles.map((file) => `/events/${file}`);
const imagePathsNoti = imageFilesNoti.map((file) => `/notifications/${file}`);
---

<Layout title="Inicio | Urban Village">
    <HomeBanner />
    <Carousel images={imagePaths} />
    <Carousel images={imagePathsNoti} />
</Layout>